# Changelog

כל השינויים המשמעותיים בפרויקט Timrs יתועדו כאן.

## [2.0.5] - 2024-11-22

### ✨ שיפורים גדולים במסך הגדרות
- **מחיקת SyncStatusIndicator המרחף** - הוסר האינדיקטור המעצבן שקפץ כל הזמן
- **כפתור הגדרות חדש** - כפתור פשוט ומינימליסטי במקום
- **מסך הגדרות מקיף ומשופר:**
  - 📋 **אודות** - גרסה ותיאור האפליקציה
  - 🔄 **סטטוס סנכרון** - מידע מפורט על הסנכרון (רק כשנדרש)
  - 📊 **Firebase** - סטטוס החיבור לענן
  - 📜 **היסטוריה** - קישורים מהירים לכל מסכי ההיסטוריה
  - 🐛 **דיווח באגים** - אפשרות נוחה לדווח על בעיות
  - ⚙️ **פעולות** - ניהול תור הסנכרון
- עיצוב מינימליסטי, נקי ומקצועי

---

## [2.0.4] - 2024-11-22

### 🎨 שיפורי חוויית משתמש
- **תיקון: תדירות עדכון SyncStatusIndicator** - שיפור חוויית המשתמש
  - שונתה תדירות עדכון תצוגת "timeAgo" מ-30 שניות לדקה אחת
  - מונע "קפיצות" מעצבנות בתצוגה
  - הסנכרון עצמו נשאר מהיר וזמין - רק התצוגה מתעדכנת פחות

---

## [2.0.3] - 2024-11-22

### 🔧 תיקוני סנכרון קריטיים
- **תיקון: איפוס מלא עכשיו שומר ResetLog** - איפוס מלא כעת מתועד במלואו
  - נוסף רישום אוטומטי של ResetLog באיפוס מלא
  - כולל: סיבה, ערך לפני ואחרי, timestamp
  - מסונכרן אוטומטית לענן
  
- **תיקון: מחיקה לצמיתות מסונכרנת** - `permanentlyDeleteTimer` עכשיו מוחק גם מהענן
  - נוספה פונקציה `deleteDeletedTimer` ל-FirebaseService
  - מחיקה לצמיתות כעת מסונכרנת ב-Firebase
  - מונע בעיות סנכרון בין מכשירים
  
- **תיקון: שחזור טיימר מסונכרן** - `restoreTimer` עכשיו מוחק מהענן
  - שחזור טיימר מוחק את ה-DeletedTimer גם מ-Firebase
  - מונע חזרה של טיימרים מחוקים לאחר סנכרון

### ✅ אימות מערכת שמירת הנתונים
- בוצעה סריקה מלאה ויסודית של כל נקודות שמירת הנתונים
- אומת שכל 5 סוגי הנתונים נשמרים ומסונכרנים:
  - ✅ Timers (יצירה, עדכון, מחיקה)
  - ✅ GlobalStats (סטטיסטיקות גלובליות)
  - ✅ DeletedTimers (היסטוריית מחיקות)
  - ✅ ResetLogs (לוגי איפוסים עם סיבות ומצב רוח)
  - ✅ RecordBreaks (שבירות שיא)
- אומתה שמירה אוטומטית בכל פעולה משמעותית
- וודא סנכרון מלא בין local ו-cloud

---

## [2.0.2] - 2024-11-22

### 🎨 עיצוב
- **אייקון אפליקציה חדש** - החלפת האייקון הדיפולטי באייקון מקצועי ומעוצב
  - עיצוב מותאם אישית עם שעון חול, כנפיים, כתר ואלמנטים טכנולוגיים
  - אייקונים בכל הגדלים הנדרשים ל-Android (mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi)
  - אייקונים בכל הגדלים הנדרשים ל-iOS (AppIcon.appiconset)
  - תמיכה מלאה ב-round icons של Android

---

## [2.0.0] - 2024-11-22

### ✨ תכונות חדשות
- **סנכרון ענן עם Firebase** - הנתונים מסונכרנים אוטומטית לענן
- **תמיכה Offline-First** - האפליקציה עובדת רגיל גם ללא אינטרנט
- **אימות אנונימי** - שימוש ב-Firebase Anonymous Auth
- **מנגנון Queue לסנכרון** - שינויים נשמרים בתור ומסונכרנים כשחוזר אינטרנט
- **אינדיקטור סטטוס סנכרון** - מציג את מצב הסנכרון בזמן אמת
- **מסך הגדרות** - ניהול סנכרון, מעקב אחר סטטוס וניקוי cache

### 🏗️ שיפורי ארכיטקטורה
- **שכבת Utils משותפת** - פונקציות עזר לתאריכים, ולידציות ופורמט
- **Error Handler מרכזי** - טיפול מקיף בשגיאות עם logging
- **Error Boundary Component** - תפיסת שגיאות ב-React components
- **NetworkService** - ניטור מצב חיבור לאינטרנט
- **FirebaseService** - שכבת abstraction מעל Firebase
- **SyncService** - ניהול חכם של סנכרון בין local ל-cloud

### 🐛 תיקוני באגים
- תוקן ממשק `RecordBreak` - איחוד 3 הגדרות כפולות לאחת אחידה
- הוספת שדה `improvement` ל-`RecordBreak`
- תיקון circular dependency ב-StorageService

### ⚡ אופטימיזציות
- שימוש ב-`React.memo` ב-TimerCard לביצועים טובים יותר
- שימוש ב-`useMemo` ו-`useCallback` לחישובים כבדים
- Custom comparison function ב-memo למניעת re-renders מיותרים

### 🔒 אבטחה ווולידציות
- הוספת `ValidationRules` עם הגבלות ברורות
- פונקציות ולידציה לכל שדות הקלט
- sanitization של input למניעת ערכים לא תקינים
- הגבלת אורך טקסט ב-reset logs ושמות טיימרים

### 📦 חבילות חדשות
- `@react-native-firebase/app` - ליבת Firebase
- `@react-native-firebase/firestore` - מסד נתונים בענן
- `@react-native-firebase/auth` - אימות משתמשים
- `@react-native-community/netinfo` - ניטור מצב רשת

### 📝 שינויים נוספים
- עדכון גרסה ל-2.0.0
- הוספת קובץ `FIREBASE_SETUP.md` עם הוראות הגדרה
- שיפור תיעוד בכל הקבצים
- הוספת הערות עברית מפורטות בקוד

---

## [1.4.0] - 2024-11-XX (גרסה קודמת)

### תכונות
- רישום שבירות שיאים (Record Breaks)
- היסטוריית איפוסים עם מצב רוח וסיבות
- סטטיסטיקות גלובליות
- מסך היסטוריה לטיימרים מחוקים

---

## [1.0.0] - 2024-11-XX (גרסה ראשונה)

### תכונות בסיסיות
- יצירת טיימרים מותאמים אישית
- בחירת יחידות זמן (שניות, דקות, שעות, ימים, שבועות, חודשים)
- איפוס מותאם ואיפוס מלא
- עריכה ומחיקה של טיימרים
- שמירה מקומית ב-AsyncStorage
- עיצוב מודרני RTL

---

## הערות גרסאות

### סמנטיקת גרסאות
אנחנו משתמשים ב-[Semantic Versioning](https://semver.org/):
- **MAJOR** - שינויים שאינם תואמים לאחור
- **MINOR** - תכונות חדשות תואמות לאחור
- **PATCH** - תיקוני באגים תואמים לאחור
